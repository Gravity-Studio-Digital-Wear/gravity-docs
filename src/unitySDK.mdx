---
name: Unity SDK
route: /unity-sdk
---

# Unity SDK

In order to show wearables in a game (scene) you need to do the next steps.

1. Connect to a user’s Metamask wallet on Polygon chain.

2. Authorize a user in Gravity API.

3. Fetch user’s wearables

4. Equip selected wearable.

Flow scheme:

<img src="UnityGravitySDKScheme.png" alt="Flow scheme" />

A single entry point for Gravity SDK is the class `GravityLayerEntryPoint`.

## Connection to Metamask

To connect to a Metamask wallet, call `Web3Connect()` method from `Assets/Plugins/GravityLayer/Example/Scripts/WebLogin.cs`.

After successful logging in the user’s address will be available at `PlayerPrefs.GetString("Account")`.

See `Assets/Plugins/GravityLayer/Example/Scenes/WebLogin.unity` scene as an example.

## Authorization

The method `EstablishConnection()` from `Assets/Plugins/GravityLayer/CoreAsync/Utils/Connection.cs` authorizes users in Gravity API. 

It will ask the user to sign a message via Metamask and if successful save an authorization token for further requests.

See `GravitySDK` game object and attached `GLayerManager.cs` script in `Assets/Plugins/GravityLayer/Example/Scenes/ExampleGravitySDK.unity` scene as an example.

## Fetching wearables

To fetch wearables call `FetchWearables()` method from `Assets/Plugins/GravityLayer/CoreAsync/Wearables/Wardrobe.cs`. 

It will fill in the public variable `List<Wearable> Wearables`.

See `FetchGLayerWearables()` method in `Assets/Plugins/GravityLayer/Example/Scripts/CustomizedInventory.cs` script in `Assets/Plugins/GravityLayer/Example/Scenes/ExampleGravitySDK.unity` scene as an example.

## Equipping wearables

To equip a wearable call `DownloadAvatar()` method for the desired `Wearable` item from the list `Wearables` in the `Wardrobe` object.

You can subscribe to the event `OnDownloadAvatarFinished` to react after downloading is finished.

See `Avatar Manager` game object and attached `AvatarManager.cs` script in `Assets/Plugins/GravityLayer/Example/Scenes/ExampleGravitySDK.unity` scene as an example.