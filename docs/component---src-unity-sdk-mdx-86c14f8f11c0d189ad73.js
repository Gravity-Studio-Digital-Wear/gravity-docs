(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{eagg:function(e,t,n){"use strict";n.r(t),n.d(t,"_frontmatter",(function(){return c})),n.d(t,"default",(function(){return p}));var a=n("wx14"),i=n("zLVn"),b=(n("q1tI"),n("7ljp")),l=n("eftB"),r=(n("qKvR"),["components"]),c={};void 0!==c&&c&&c===Object(c)&&Object.isExtensible(c)&&!Object.prototype.hasOwnProperty.call(c,"__filemeta")&&Object.defineProperty(c,"__filemeta",{configurable:!0,value:{name:"_frontmatter",filename:"src/unitySDK.mdx"}});var o={_frontmatter:c},s=l.a;function p(e){var t=e.components,n=Object(i.a)(e,r);return Object(b.b)(s,Object(a.a)({},o,n,{components:t,mdxType:"MDXLayout"}),Object(b.b)("h1",{id:"unity-sdk"},"Unity SDK"),Object(b.b)("p",null,"In order to show wearables in a game (scene) you need to do the next steps."),Object(b.b)("ol",null,Object(b.b)("li",{parentName:"ol"},Object(b.b)("p",{parentName:"li"},"Connect to a user’s Metamask wallet on Polygon chain.")),Object(b.b)("li",{parentName:"ol"},Object(b.b)("p",{parentName:"li"},"Authorize a user.")),Object(b.b)("li",{parentName:"ol"},Object(b.b)("p",{parentName:"li"},"Fetch a user’s wearables")),Object(b.b)("li",{parentName:"ol"},Object(b.b)("p",{parentName:"li"},"Equip selected wearable."))),Object(b.b)("h2",{id:"connection-to-metamask"},"Connection to Metamask"),Object(b.b)("p",null,"To connect to Metamask wallet, call ",Object(b.b)("inlineCode",{parentName:"p"},"Web3Connect()")," method from ",Object(b.b)("inlineCode",{parentName:"p"},"Assets/Plugins/Web3Unity/Scripts/Scenes/WebLogin.cs"),"."),Object(b.b)("p",null,"After successful logging in the user’s address will be available at ",Object(b.b)("inlineCode",{parentName:"p"},'PlayerPrefs.GetString("Account")'),"."),Object(b.b)("p",null,"See ",Object(b.b)("inlineCode",{parentName:"p"},"Assets/Plugins/Web3Unity/Scenes/WebLogin.unity")," scene as an example."),Object(b.b)("h2",{id:"authorization"},"Authorization"),Object(b.b)("p",null,"To authorize and connect to the GTS API create a new ",Object(b.b)("inlineCode",{parentName:"p"},"Connection")," class from ",Object(b.b)("inlineCode",{parentName:"p"},"GravityTS.Utils")," namespace."),Object(b.b)("p",null,Object(b.b)("inlineCode",{parentName:"p"},"GTSConnection = new Connection(_apiUrl, _account);")),Object(b.b)("p",null,"where \\\n",Object(b.b)("inlineCode",{parentName:"p"},"_apiUrl")," is a link to GTS API,\n",Object(b.b)("inlineCode",{parentName:"p"},"_account")," is a user's wallet address (Polygon)."),Object(b.b)("p",null,"Whenever you decide to authorize a user, call the method ",Object(b.b)("inlineCode",{parentName:"p"},"EstablishConnection()"),". It will ask the user to sign a message via Metamask and if successful save an authorization token for further requests."),Object(b.b)("p",null,"See ",Object(b.b)("inlineCode",{parentName:"p"},"GravitySDK")," game object and attached ",Object(b.b)("inlineCode",{parentName:"p"},"GTSManager.cs")," script in ",Object(b.b)("inlineCode",{parentName:"p"},"Assets/Plugins/GravityTS/Example/Scenes/ExampleGravitySDK.unity")," scene as an example."),Object(b.b)("h2",{id:"fetching-wearables"},"Fetching wearables"),Object(b.b)("p",null,"To be able to fetch user's wearables, create a new ",Object(b.b)("inlineCode",{parentName:"p"},"Wardrobe")," class from ",Object(b.b)("inlineCode",{parentName:"p"},"GravityTS.Wearables")," namespace."),Object(b.b)("p",null,Object(b.b)("inlineCode",{parentName:"p"},"Wardrobe = new Wardrobe(GTSConnection);")),Object(b.b)("p",null,"where \\\n",Object(b.b)("inlineCode",{parentName:"p"},"GTSConnection")," is an ",Object(b.b)("inlineCode",{parentName:"p"},"Connection")," object created earlier."),Object(b.b)("p",null,"To fetch wearables call ",Object(b.b)("inlineCode",{parentName:"p"},"FetchWearables()")," method. It will fill in the public variable ",Object(b.b)("inlineCode",{parentName:"p"},"List<Wearable> Wearables"),"."),Object(b.b)("p",null,"See ",Object(b.b)("inlineCode",{parentName:"p"},"FetchGTSWearables()")," method in ",Object(b.b)("inlineCode",{parentName:"p"},"Assets/Plugins/GravityTS/Example/Scripts/CustomizedInventory.cs")," script in ",Object(b.b)("inlineCode",{parentName:"p"},"Assets/Plugins/GravityTS/Example/Scenes/ExampleGravitySDK.unity")," scene as an example."),Object(b.b)("h2",{id:"equipping-wearables"},"Equipping wearables"),Object(b.b)("p",null,"To equip a wearable call ",Object(b.b)("inlineCode",{parentName:"p"},"DownloadAvatar()")," method for the desired ",Object(b.b)("inlineCode",{parentName:"p"},"Wearable")," item from the list ",Object(b.b)("inlineCode",{parentName:"p"},"Wearables")," in the ",Object(b.b)("inlineCode",{parentName:"p"},"Wardrobe")," object created earlier."),Object(b.b)("p",null,"You can subscribe to the event ",Object(b.b)("inlineCode",{parentName:"p"},"OnDownloadAvatarFinished")," to react after downloading is finished."),Object(b.b)("p",null,"See ",Object(b.b)("inlineCode",{parentName:"p"},"Avatar Manager")," game object and attached ",Object(b.b)("inlineCode",{parentName:"p"},"AvatarManager.cs")," script in ",Object(b.b)("inlineCode",{parentName:"p"},"Assets/Plugins/GravityTS/Example/Scenes/ExampleGravitySDK.unity")," scene as an example."))}void 0!==p&&p&&p===Object(p)&&Object.isExtensible(p)&&!Object.prototype.hasOwnProperty.call(p,"__filemeta")&&Object.defineProperty(p,"__filemeta",{configurable:!0,value:{name:"MDXContent",filename:"src/unitySDK.mdx"}}),p.isMDXComponent=!0}}]);
//# sourceMappingURL=component---src-unity-sdk-mdx-86c14f8f11c0d189ad73.js.map